(this.webpackJsonpagendar=this.webpackJsonpagendar||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n(1),a=n.n(s),o=n(4),c=n.n(o),l=(n(14),n(3)),d=n(5),r=n(6),u=n(8),h=n(7),g=(n(15),{apiKey:"AIzaSyDMeOHdQ7sRjWwmK4pXBsL8KPDXYXEyOdw",clientId:"716546716200-k27gns7n7emjglrn2bec5jui3323r0ua.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:["https://www.googleapis.com/auth/calendar.events.readonly","https://www.googleapis.com/auth/calendar.readonly"].join(" ")}),j=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={isSignedIn:!1,intervalId:null,lastFetchedMillis:null,calendarEvents:[]},i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=document.createElement("script");t.src="https://apis.google.com/js/platform.js",t.async=!0,t.defer=!0,t.onload=function(){e.didLoadGoogleApi()},document.head.appendChild(t),this.setState({intervalId:setInterval((function(){e.pulse()}),1e3)})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId)}},{key:"pulse",value:function(){if(this.state.isSignedIn){var e=Date.now();(!this.state.lastFetchedMillis||this.state.lastFetchedMillis<e-36e5)&&this.setState({lastFetchedMillis:e})}}},{key:"didLoadGoogleApi",value:function(){var e=this,t=this.onSuccess.bind(this);window.gapi.load("auth2",(function(){e.auth2=gapi.auth2.init(g),e.auth2.then((function(){e.setState({isSignedIn:e.auth2.isSignedIn.get()})}))})),window.gapi.load("signin2",(function(){var e=Object(l.a)(Object(l.a)({},g),{},{width:200,height:50,onsuccess:t});gapi.signin2.render("loginButton",e)}))}},{key:"onSuccess",value:function(){this.setState({isSignedIn:!0})}},{key:"doLogout",value:function(){var e=this;this.auth2.signOut().then((function(){e.setState({isSignedIn:!1,lastFetchedMillis:null}),window.location.reload(!1)}),(function(){alert("Failed to sign out!")}))}},{key:"renderCalendarEvents",value:function(){return Object(i.jsx)("div",{children:this.state.calendarEvents})}},{key:"renderContent",value:function(){var e=this;return this.state.isSignedIn?Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:"logoutButton",onClick:function(){return e.doLogout()},children:"Logout"}),this.renderCalendarEvents()]}):Object(i.jsxs)("div",{children:[Object(i.jsx)("br",{}),",",Object(i.jsx)("br",{}),Object(i.jsx)("button",{id:"loginButton",children:"Login with Google"})]})}},{key:"render",value:function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsxs)("header",{className:"App-header",children:[Object(i.jsxs)("h1",{children:["Agendar",Object(i.jsx)("sup",{className:"tiny",children:"\u2122"})]}),Object(i.jsxs)("h2",{children:["Heads-Up Display",Object(i.jsx)("br",{})," for being on time."]}),this.renderContent()]})})}}]),n}(s.Component),p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),s(e),a(e),o(e)}))};c.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(j,{})}),document.getElementById("root")),p()}},[[16,1,2]]]);
//# sourceMappingURL=main.e4a8d907.chunk.js.map